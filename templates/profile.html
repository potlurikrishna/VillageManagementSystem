<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='navbar.css') }}">
</head>
<body>
    {% include 'navbar.html' %} <!-- Include Navbar -->

    <div class="profile-container">
        <div class="profile-header">
            <img src="{{ url_for('static', filename='profile.png') }}" alt="Profile Picture" class="profile-img">
            <div class="profile-info">
                <h2>{{ users.name }}</h2>
                <p><strong>Email:</strong> {{ users.username }}</p>
                <p><strong>Mobile Number:</strong> {{ users.mobile }}</p>
                <p><strong>Role:</strong> {{ users.role }}</p>
            </div>
        </div>

        <div class="profile-activity">
            <h3>My Activities</h3>

            <!-- Donations Section -->
            <div class="activity-section">
                <h4>Donations</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Contact</th>
                            <th>Address</th>
                            <th>Donation Details</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for donation in donations %}
                        <tr>
                            <td>{{ donation.name }}</td>
                            <td>{{ donation.contact }}</td>
                            <td>{{ donation.address }}</td>
                            <td>{{ donation.donation_details }}</td>
                            <td>{{ donation.amount }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Complaints Section -->
            <div class="activity-section">
                <h4>Complaints</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Contact</th>
                            <th>Complaint</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for com in complaint1 %}
                        <tr>
                            <td>{{ com.name }}</td>
                            <td>{{ com.email }}</td>
                            <td>{{ com.contact }}</td>
                            <td>{{ com.complaint }}</td>
                            <td>
                                {% if com.status == 'Solved' %}
                                    Solved
                                {% else %}
                                    Pending
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Income Certificates Section -->
            <div class="activity-section">
                <h4>Applied Income Certificates</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Aadhar No</th>
                            <th>Name</th>
                            <th>Relation</th>
                            <th>Total Income</th>
                            <th>Email</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for cert in income_certificates %}
                        <tr>
                            <td>{{ cert.AadharCardNo }}</td>
                            <td>{{ cert.StudentName }}</td>
                            <td>{{ cert.Relation }}</td>
                            <td>{{ cert.TotalIncome }}</td>
                            <td>{{ cert.Email }}</td>
                            <td>
                                {% if cert.status == 'Solved' %}
                                    Solved
                                {% else %}
                                    Pending
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- Caste Certificates Section -->
            <div class="activity-section">
                <h4>Applied Caste Certificates</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Aadhar No</th>
                            <th>Name</th>
                            <th>Gender</th>
                            <th>Caste Category</th>
                            <th>Purpose</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for cert in caste_certificates %}
                        <tr>
                            <td>{{ cert.AadharCardNo }}</td>
                            <td>{{ cert.ApplicantName }}</td>
                            <td>{{ cert.Gender }}</td>
                            <td>{{ cert.CasteCertificateDetails.CasteCategory }}</td>
                            <td>{{ cert.CasteCertificateDetails.PurposeofCasteCertificate }}</td>
                            <td>
                                {% if cert.status == 'Solved' %}
                                    Solved
                                {% else %}
                                    Pending
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="profile-actions">
            <a href="/edit_profile" class="button">Edit Profile</a>
            <a href="/logout" class="button">Logout</a>
        </div>
    </div>
</body>
</html>
